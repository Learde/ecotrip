var ss={exports:{}};/*! name: @uvarov.frontend/vanilla-calendar | url: https://github.com/uvarov-frontend/vanilla-calendar */(function(p,d){var T=Object.defineProperty,o=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,I=(e,t,s)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,f=(e,t,s)=>(I(e,typeof t!="symbol"?t+"":t,s),s);const K=e=>{if(!["default","multiple","year"].includes(e.currentType))return;const t=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowPrev}`),s=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowNext}`);!t||!s||(e.currentType!=="default"&&e.currentType!=="multiple"||(()=>{if(!e.dateMin||!e.dateMax)return;const n=e.selectedMonth===e.dateMin.getUTCMonth(),a=e.selectedMonth===e.dateMax.getUTCMonth(),l=!e.settings.selection.year||e.selectedYear===e.dateMin.getUTCFullYear(),i=!e.settings.selection.year||e.selectedYear===e.dateMax.getUTCFullYear();n&&l||!e.settings.selection.month?t.style.visibility="hidden":t.style.visibility="",a&&i||!e.settings.selection.month?s.style.visibility="hidden":s.style.visibility=""})(),e.currentType==="year"&&e.dateMin&&e.dateMax&&e.viewYear!==void 0&&(e.dateMin.getUTCFullYear()&&e.viewYear-7<=e.dateMin.getUTCFullYear()?t.style.visibility="hidden":t.style.visibility="",e.dateMax.getUTCFullYear()&&e.viewYear+7>=e.dateMax.getUTCFullYear()?s.style.visibility="hidden":s.style.visibility=""))},me=(e,t)=>{if(!e)return null;const s=new Date(e).getUTCDate(),n=new Date(e).getUTCMonth(),a=new Date(e).getUTCFullYear(),l=new Date(Date.UTC(a,n,s)),i=t?l.getUTCDay()||7:l.getUTCDay();l.setUTCDate(l.getUTCDate()+4-i);const w=new Date(Date.UTC(l.getUTCFullYear(),0,1));return{year:a,week:Math.ceil(((+l-+w)/864e5+1)/7)}},E=e=>{const t=e.getUTCFullYear();let s=e.getUTCMonth()+1,n=e.getUTCDate();return s=s<10?`0${s}`:s,n=n<10?`0${n}`:n,`${t}-${s}-${n}`},ne=e=>{var t;const s=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),n=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),a=new Date(e.date.today.getTime()),l=document.createElement("div"),i=document.createElement("button");l.className=e.CSSClasses.day,i.className=e.CSSClasses.dayBtn,i.type="button",(t=e.selectedDates)==null||t.sort((w,h)=>+new Date(w)-+new Date(h)),s.forEach((w,h)=>{const b=new Date(a.setMonth(e.selectedMonth+h)).getMonth(),D=new Date(a.setFullYear(e.selectedYear,e.selectedMonth+h)).getFullYear(),x=new Date(Date.UTC(D,b,1)),_=new Date(Date.UTC(D,b+1,0)).getUTCDate();let k=Number(x.getUTCDay());e.settings.iso8601&&(k=Number((x.getUTCDay()!==0?x.getUTCDay():7)-1)),e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&s[h].classList.add(e.CSSClasses.daysSelecting),s[h].innerHTML="";const L=(m,g,c,v,M)=>{const u=l.cloneNode(!0),r=i.cloneNode(!0);if(M&&r.classList.add(M),r.innerText=m,r.dataset.calendarDay=c,e.settings.visibility.weekNumbers){const S=me(c,e.settings.iso8601);if(!S)return;r.dataset.calendarWeekNumber=`${S.week}`}((S,C,U,$,X)=>{var q,A;e.settings.range.disableWeekday.includes(U)&&((q=e.rangeDisabled)==null||q.push($),(A=e.rangeDisabled)==null||A.sort((N,se)=>+new Date(N)-+new Date(se))),!e.settings.visibility.weekend||U!==0&&U!==6||C.classList.add(e.CSSClasses.dayBtnWeekend),Array.isArray(e.selectedHolidays)&&e.selectedHolidays.forEach(N=>{N===$&&C.classList.add(e.CSSClasses.dayBtnHoliday)});let O=e.date.today.getDate(),P=e.date.today.getMonth()+1;O=O<10?`0${O}`:O,P=P<10?`0${P}`:P;const te=`${e.date.today.getFullYear()}-${P}-${O}`;e.settings.visibility.today&&C.dataset.calendarDay===te&&C.classList.add(e.CSSClasses.dayBtnToday),e.selectedDates&&e.selectedDates.indexOf($)===0?(e.settings.selection.day==="multiple-ranged"&&e.selectedDates.length>1?S.classList.add(e.CSSClasses.daySelectedFirst):S.classList.add(e.CSSClasses.daySelected),C.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates[0]&&e.selectedDates.indexOf($)===e.selectedDates.length-1?(S.classList.add(e.CSSClasses.daySelected),e.settings.selection.day==="multiple-ranged"?S.classList.add(e.CSSClasses.daySelectedLast):S.classList.add(e.CSSClasses.daySelected),C.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates.indexOf($)>0&&e.settings.selection.day==="multiple-ranged"?(S.classList.add(e.CSSClasses.daySelectedIntermediate),C.classList.add(e.CSSClasses.dayBtnSelected),C.classList.add(e.CSSClasses.dayBtnIntermediate)):e.selectedDates&&e.selectedDates.indexOf($)>0&&(S.classList.add(e.CSSClasses.daySelected),C.classList.add(e.CSSClasses.dayBtnSelected)),(e.rangeMin>$||e.rangeMax<$)&&(C.classList.add(e.CSSClasses.dayBtnDisabled),C.tabIndex=-1),!e.settings.selection.month&&X&&(C.classList.add(e.CSSClasses.dayBtnDisabled),C.tabIndex=-1),e.settings.selection.year||new Date($).getFullYear()===D||(C.classList.add(e.CSSClasses.dayBtnDisabled),C.tabIndex=-1),Array.isArray(e.rangeDisabled)?e.rangeDisabled.forEach(N=>{N===$&&(C.classList.add(e.CSSClasses.dayBtnDisabled),C.tabIndex=-1)}):Array.isArray(e.rangeEnabled)&&(C.classList.add(e.CSSClasses.dayBtnDisabled),C.tabIndex=-1,e.rangeEnabled.forEach(N=>{N===$&&(C.classList.remove(e.CSSClasses.dayBtnDisabled),C.tabIndex=0)}))})(u,r,g,c,v),v?e.settings.visibility.daysOutside&&u.append(r):u.append(r),s[h].append(u)};(()=>{let m=new Date(Date.UTC(D,b,0)).getUTCDate()-k,g=D,c=b;b===0?(c=e.locale.months.length,g=D-1):b<10&&(c=`0${b}`);for(let v=0;v<k;v++){m+=1;const M=`${g}-${c}-${m}`,u=new Date(Date.UTC(D,b,m-1)).getUTCMonth()-1,r=new Date(Date.UTC(D,u,m)).getUTCDay();L(String(m),r,M,!0,e.CSSClasses.dayBtnPrev)}})(),(()=>{for(let m=1;m<=_;m++){const g=new Date(Date.UTC(D,b,m)),c=E(g),v=g.getUTCDay();L(String(m),v,c,!1,null)}})(),(()=>{const m=k+_,g=Math.ceil(m/e.locale.weekday.length),c=e.locale.weekday.length*g-m;let v=D,M=String(b+2);b+1===e.locale.months.length?(M="01",v=D+1):b+2<10&&(M=`0${b+2}`);for(let u=1;u<=c;u++){const r=`${v}-${M}-${u<10?`0${u}`:String(u)}`,S=new Date(Date.UTC(D,b,u)).getUTCMonth()+1,C=new Date(Date.UTC(D,S,u)).getUTCDay();L(String(u),C,r,!0,e.CSSClasses.dayBtnNext)}})(),((m,g)=>{m.popups&&Object.keys(m.popups).forEach(c=>{var v;const M=g.querySelector(`[data-calendar-day="${c}"]`);if(M){const u=(v=m.popups)==null?void 0:v[c];u!=null&&u.modifier&&u.modifier.trim().split(" ").forEach(r=>{M.classList.add(r)}),u!=null&&u.html&&(M.parentNode.innerHTML+=`<div class="${m.CSSClasses.dayPopup}">${u.html}</div>`)}})})(e,s[h]),((m,g,c,v,M)=>{if(!m.settings.visibility.weekNumbers)return;const u=M.querySelectorAll(`.${m.CSSClasses.day}`);v.innerHTML="";const r=Math.ceil((g+c)/7),S=document.createElement("b");S.className=m.CSSClasses.weekNumbersTitle,S.innerText="#",v.append(S);const C=document.createElement("div");C.className=m.CSSClasses.weekNumbersContent,v.append(C);const U=document.createElement("span");U.className=m.CSSClasses.weekNumber;for(let $=0;$<r;$++){let X=null;X=$===0?u[6].querySelector(`.${m.CSSClasses.dayBtn}`):u[7*$].querySelector(`.${m.CSSClasses.dayBtn}`);const q=me(X.dataset.calendarDay,m.settings.iso8601);if(!q)return;const A=U.cloneNode(!0);A.innerText=`${q.week}`,A.dataset.calendarYearWeek=`${q.year}`,C.append(A)}})(e,k,_,n[h],s[h])})},is=e=>`
	<button type="button"
		class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"
		data-calendar-arrow="prev"
		title="Prev">
	</button>
`,ds=e=>`
	<button type="button"
	class="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"
	data-calendar-arrow="next"
	title="Next">
	</button>
`,rs=e=>`
	<button type="button"
		class="${e.CSSClasses.month}"
		data-calendar-selected-month>
	</button>
`,os=e=>`
	<button type="button"
		class="${e.CSSClasses.year}"
		data-calendar-selected-year>
	</button>
`,cs=e=>`
	<div class="${e.CSSClasses.week}"></div>
`,us=e=>`
	<div class="${e.CSSClasses.days}"></div>
`,ms=e=>`
	<div class="${e.CSSClasses.months}"></div>
`,ys=e=>`
	<div class="${e.CSSClasses.years}"></div>
`,vs=e=>e.settings.visibility.weekNumbers?`
	<div class="${e.CSSClasses.weekNumbers}"></div>
`:"",gs=e=>e.settings.selection.time?`
	<div class="${e.CSSClasses.time}"></div>
`:"",J=(e,t)=>t.replace(/<#(.*?)\/>/g,(s,n)=>{const a=(l=>{let i=null;switch(l){case"ArrowPrev":i=is;break;case"ArrowNext":i=ds;break;case"Month":i=rs;break;case"Year":i=os;break;case"Week":i=cs;break;case"Days":i=us;break;case"Months":i=ms;break;case"Years":i=ys;break;case"WeekNumbers":i=vs;break;case"ControlTime":i=gs}return i})(n.replace(/[\s\n\t]/g,""));return a?a(e):""}).replace(/[\n\t]/g,""),le=e=>{const t=e.HTMLElement;switch(t.classList.add(e.CSSClasses.calendar),e.currentType){case"default":t.classList.add(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=J(e,e.DOMTemplates.default);break;case"multiple":if(!e.correctMonths)break;t.classList.add(e.CSSClasses.calendarMultiple),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=((s,n)=>n.replace(/<#Multiple>(.*?)<#\/Multiple>/g,(a,l)=>{let i="";for(let w=0;w<s.correctMonths;w++)i+=l;return i}).replace(/[\n\t]/g,""))(e,J(e,e.DOMTemplates.multiple));break;case"month":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.add(e.CSSClasses.calendarMonth),t.classList.remove(e.CSSClasses.calendarYear),t.innerHTML=J(e,e.DOMTemplates.month);break;case"year":t.classList.remove(e.CSSClasses.calendarDefault),t.classList.remove(e.CSSClasses.calendarMonth),t.classList.add(e.CSSClasses.calendarYear),t.innerHTML=J(e,e.DOMTemplates.year)}},Q=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-month]");if(!t[0]||e.selectedMonth===void 0)return;const s=new Date(e.date.today.getTime());t.forEach((n,a)=>{const l=new Date(s.setMonth(e.selectedMonth+a)).getMonth();t[a].dataset.calendarSelectedMonth=String(l),t[a].innerText=e.locale.months[l],e.settings.selection.month&&e.currentType!=="multiple"?(t[a].tabIndex=0,t[a].classList.remove(e.CSSClasses.monthDisabled)):(t[a].tabIndex=-1,t[a].classList.add(e.CSSClasses.monthDisabled))})},Z=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-year]");if(!t||e.selectedMonth===void 0)return;const s=new Date(e.date.today.getTime());t.forEach((n,a)=>{const l=new Date(s.setFullYear(e.selectedYear,e.selectedMonth+a)).getFullYear();t[a].dataset.calendarSelectedYear=String(l),t[a].innerText=String(l),e.settings.selection.year&&e.currentType!=="multiple"?(t[a].tabIndex=0,t[a].classList.remove(e.CSSClasses.yearDisabled)):(t[a].tabIndex=-1,t[a].classList.add(e.CSSClasses.yearDisabled))})},ye=e=>{e.currentType="month",le(e),Q(e),Z(e);const t=e.HTMLElement.querySelector(`.${e.CSSClasses.months}`);if(e.selectedMonth===void 0||e.selectedYear===void 0||!e.dateMin||!e.dateMax||!t)return;e.settings.selection.month&&t.classList.add(e.CSSClasses.monthsSelecting);const s=document.createElement("button");s.type="button",s.className=e.CSSClasses.monthsMonth;for(let n=0;n<e.locale.months.length;n++){const a=e.locale.months[n],l=s.cloneNode(!0);n===e.selectedMonth&&l.classList.add(e.CSSClasses.monthsMonthSelected),n<e.dateMin.getUTCMonth()&&e.selectedYear===e.dateMin.getUTCFullYear()&&(l.classList.add(e.CSSClasses.monthsMonthDisabled),l.tabIndex=-1),n>e.dateMax.getUTCMonth()&&e.selectedYear===e.dateMax.getUTCFullYear()&&(l.classList.add(e.CSSClasses.monthsMonthDisabled),l.tabIndex=-1),l.dataset.calendarMonth=String(n),l.title=`${a}`,l.innerText=`${e.settings.visibility.monthShort?a.substring(0,3):a}`,t.append(l)}},V=e=>{const t=Number(e);let s=String(t);return t===0?s="12":t===13?s="01":t===14?s="02":t===15?s="03":t===16?s="04":t===17?s="05":t===18?s="06":t===19?s="07":t===20?s="08":t===21?s="09":t===22?s="10":t===23&&(s="11"),s},ie=(e,t)=>{const s=Number(e);let n=String(s);return t==="AM"?s===12&&(n="00"):t==="PM"&&(s===1?n="13":s===2?n="14":s===3?n="15":s===4?n="16":s===5?n="17":s===6?n="18":s===7?n="19":s===8?n="20":s===9?n="21":s===10?n="22":s===11&&(n="23")),n},hs=e=>{const t=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!t)return;const s=e.settings.selection.time===!0?12:e.settings.selection.time,n=e.settings.selection.controlTime==="range";t.innerHTML=`
	<div class="${e.CSSClasses.timeContent}">
		<label class="${e.CSSClasses.timeHours}">
			<input type="text"
				name="hours"
				maxlength="2"
				value="${e.selectedHours}"
				${n?"disabled":""}>
		</label>
		<label class="${e.CSSClasses.timeMinutes}">
			<input type="text"
				name="minutes"
				maxlength="2"
				value="${e.selectedMinutes}"
				${n?"disabled":""}>
		</label>
		${s===12?`
		<button type="button"
			class="${e.CSSClasses.timeKeeping}"
			${n?"disabled":""}>${e.selectedKeeping}</button>
		`:""}
	</div>
	<div class="${e.CSSClasses.timeRanges}">
		<label class="${e.CSSClasses.timeRange}">
			<input type="range"
				name="hours"
				min="0"
				max="23"
				step="${e.settings.selection.stepHours}"
				value="${e.selectedKeeping?ie(e.selectedHours,e.selectedKeeping):e.selectedHours}">
		</label>
		<label class="${e.CSSClasses.timeRange}">
			<input type="range"
				name="minutes"
				min="0"
				max="59"
				step="${e.settings.selection.stepMinutes}"
				value="${e.selectedMinutes}">
		</label>
	</div>`,((a,l)=>{const i=a.HTMLElement.querySelector(`.${a.CSSClasses.timeRange} input[name="hours"]`),w=a.HTMLElement.querySelector(`.${a.CSSClasses.timeRange} input[name="minutes"]`),h=a.HTMLElement.querySelector(`.${a.CSSClasses.timeHours} input[name="hours"]`),b=a.HTMLElement.querySelector(`.${a.CSSClasses.timeMinutes} input[name="minutes"]`),D=a.HTMLElement.querySelector(`.${a.CSSClasses.timeKeeping}`),x=(g,c)=>{g.addEventListener("mouseover",()=>c.classList.add(a.CSSClasses.isFocus))},_=(g,c)=>{g.addEventListener("mouseout",()=>c.classList.remove(a.CSSClasses.isFocus))},k=(g,c,v)=>{v==="hours"?a.selectedHours=`${c}`:v==="minutes"&&(a.selectedMinutes=`${c}`),a.selectedTime=`${a.selectedHours}:${a.selectedMinutes}${a.selectedKeeping?` ${a.selectedKeeping}`:""}`,a.settings.selected.time=a.selectedTime,a.actions.changeTime&&a.actions.changeTime(g,a.selectedTime,a.selectedHours,a.selectedMinutes,a.selectedKeeping)},L=(g,c,v,M)=>{g.addEventListener("input",u=>{let r=Number(u.target.value);r=r<10?`0${r}`:`${r}`,v==="hours"&&M===12?Number(u.target.value)<M&&Number(u.target.value)>0?(c.value=r,a.selectedKeeping="AM",D.innerText=a.selectedKeeping,k(u,r,v)):(Number(u.target.value)===0?(a.selectedKeeping="AM",D.innerText="AM"):(a.selectedKeeping="PM",D.innerText="PM"),c.value=V(u.target.value),k(u,V(u.target.value),v)):(c.value=r,k(u,r,v))})},m=(g,c,v,M)=>{c.addEventListener("change",u=>{const r=u.target;let S=Number(r.value);S=S<10?`0${S}`:`${S}`,v==="hours"&&M===12?r.value&&Number(r.value)<=M&&Number(r.value)>0?(r.value=S,g.value=ie(S,a.selectedKeeping),k(u,S,v)):r.value&&Number(r.value)<24&&(Number(r.value)>M||Number(r.value)===0)?(Number(r.value)===0?(a.selectedKeeping="AM",D.innerText="AM"):(a.selectedKeeping="PM",D.innerText="PM"),r.value=V(r.value),g.value=S,k(u,V(r.value),v)):r.value=a.selectedHours:r.value&&Number(r.value)<=M&&Number(r.value)>=0?(r.value=S,g.value=S,k(u,S,v)):v==="hours"?r.value=a.selectedHours:v==="minutes"&&(r.value=a.selectedMinutes)})};x(i,h),x(w,b),_(i,h),_(w,b),L(i,h,"hours",l===24?23:12),L(w,b,"minutes",0),m(i,h,"hours",l===24?23:12),m(w,b,"minutes",59),D&&D.addEventListener("click",g=>{D.innerText.includes("AM")?a.selectedKeeping="PM":a.selectedKeeping="AM",i.value=ie(a.selectedHours,a.selectedKeeping),k(g,a.selectedHours,"hours"),D.innerText=a.selectedKeeping})})(e,s)},de=e=>{if(e.viewYear===void 0||!e.dateMin||!e.dateMax)return;e.currentType="year",le(e),Q(e),Z(e),K(e);const t=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!t)return;e.settings.selection.year&&t.classList.add(e.CSSClasses.yearsSelecting);const s=document.createElement("button");s.type="button",s.className=e.CSSClasses.yearsYear;for(let n=e.viewYear-7;n<e.viewYear+8;n++){const a=n,l=s.cloneNode(!0);a===e.selectedYear&&l.classList.add(e.CSSClasses.yearsYearSelected),a<e.dateMin.getUTCFullYear()&&(l.classList.add(e.CSSClasses.yearsYearDisabled),l.tabIndex=-1),a>e.dateMax.getUTCFullYear()&&(l.classList.add(e.CSSClasses.yearsYearDisabled),l.tabIndex=-1),l.dataset.calendarYear=String(a),l.innerText=`${a}`,t.append(l)}},ee=e=>{const t=[];return e.forEach(s=>{s.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(s):s.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(n,a,l)=>{const i=new Date(a),w=new Date(l),h=new Date(i.getTime());for(;h<=w;h.setDate(h.getDate()+1))t.push(E(h));return n})}),t},Ss=["light","dark","system"];let ve=!1;const ge=(e,t)=>{e.HTMLElement&&(Ss.includes(t)?e.HTMLElement.dataset.calendarTheme=t:console.error("Incorrect name of theme in settings.visibility.theme"))},Cs=e=>{if(!e.HTMLElement)return;let t;window.matchMedia("(prefers-color-scheme)").media!=="not all"&&(t=window.matchMedia("(prefers-color-scheme: dark)")),e.settings.visibility.theme==="system"?((s,n)=>{if(!n)return void ge(s,"light");const a=l=>l.matches?"dark":"light";s.HTMLElement.dataset.calendarTheme=a(n),ve||(n.addEventListener("change",l=>{s.settings.visibility.theme==="system"&&(s.HTMLElement.dataset.calendarTheme=a(l))}),ve=!0)})(e,t):ge(e,e.settings.visibility.theme)},W=e=>{(t=>{t.rangeMin=t.settings.range.min,t.rangeMax=t.settings.range.max,t.rangeDisabled=t.settings.range.disabled?ee([...t.settings.range.disabled]):[],t.rangeEnabled=t.settings.range.enabled?ee([...t.settings.range.enabled]):[],t.selectedDates=t.settings.selected.dates?ee([...t.settings.selected.dates]):[],t.selectedHolidays=t.settings.selected.holidays?ee([...t.settings.selected.holidays]):[],t.settings.range.disablePast&&new Date(t.settings.range.min)<t.date.today&&(t.rangeMin=E(t.date.today));const s=new Date(t.rangeMin),n=new Date(t.rangeMax);s.setDate(s.getDate()-1),n.setDate(n.getDate()+1),t.rangeDisabled.push(E(s)),t.rangeDisabled.push(E(n)),t.rangeDisabled.sort((l,i)=>+new Date(l)-+new Date(i)),t.settings.selected.month!==null&&t.settings.selected.month>=0&&t.settings.selected.month<12?t.selectedMonth=t.settings.selected.month:t.selectedMonth=t.date.today.getMonth(),t.settings.selected.year!==null&&t.settings.selected.year>=0&&t.settings.selected.year<=9999?t.selectedYear=t.settings.selected.year:t.selectedYear=t.date.today.getFullYear(),t.viewYear=t.selectedYear,t.dateMin=t.settings.visibility.disabled?new Date(t.date.min):new Date(t.rangeMin),t.dateMax=t.settings.visibility.disabled?new Date(t.date.max):new Date(t.rangeMax);const a=t.settings.selection.time===!0||t.settings.selection.time===12;if(a||t.settings.selection.time===24){if(typeof t.settings.selected.time=="string"){const l=a?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;t.settings.selected.time.replace(l,(i,w,h,b)=>(w&&h&&(t.userTime=!0,t.selectedHours=w,t.selectedMinutes=h),b&&a?t.selectedKeeping=b:a&&(t.selectedKeeping="AM"),""))}!t.userTime&&a?(t.selectedHours=V(String(t.date.today.getHours())),t.selectedMinutes=String(t.date.today.getMinutes()),t.selectedKeeping=Number(t.date.today.getHours())>12?"PM":"AM"):t.userTime||(t.selectedHours=String(t.date.today.getHours()),t.selectedMinutes=String(t.date.today.getMinutes())),t.selectedHours=Number(t.selectedHours)<10?`0${Number(t.selectedHours)}`:`${t.selectedHours}`,t.selectedMinutes=Number(t.selectedMinutes)<10?`0${Number(t.selectedMinutes)}`:`${t.selectedMinutes}`,t.selectedTime=`${t.selectedHours}:${t.selectedMinutes}${t.selectedKeeping?` ${t.selectedKeeping}`:""}`}else t.settings.selection.time&&(t.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."));t.type==="multiple"&&(t.months===1?(console.warn("The value of the \xABmonths\xBB parameter cannot be less than \xAB2\xBB, the minimum available value will be initialized."),t.correctMonths=2):t.months>12?(console.warn("The value of the \xABmonths\xBB parameter cannot be greater than \xAB12\xBB, the maximum available value will be initialized."),t.correctMonths=12):t.correctMonths=t.months)})(e),Cs(e),(t=>{if(t.settings.lang!=="define"){t.locale.weekday=[];for(let s=0;s<7;s++){let n=new Date(0,0,s).toLocaleString(t.settings.lang,{weekday:"short"});n=`${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`,n=n.replace(/\./,""),t.locale.weekday.push(n)}t.locale.months=[];for(let s=0;s<12;s++){let n=new Date(0,s).toLocaleString(t.settings.lang,{month:"long"});n=`${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`,n=n.replace(/\./,""),t.locale.months.push(n)}}})(e),le(e),Q(e),Z(e),K(e),hs(e),e.currentType==="default"||e.currentType==="multiple"?((t=>{const s=[...t.locale.weekday];if(!s[0])return;const n=t.HTMLElement.querySelectorAll(`.${t.CSSClasses.week}`),a=document.createElement("b");a.className=t.CSSClasses.weekDay,t.settings.iso8601&&s.push(s.shift()),n.forEach(l=>{l.innerHTML="";for(let i=0;i<s.length;i++){const w=s[i],h=a.cloneNode(!0);t.settings.visibility.weekend&&t.settings.iso8601?i!==5&&i!==6||h.classList.add(t.CSSClasses.weekDayWeekend):t.settings.visibility.weekend&&!t.settings.iso8601&&(i!==0&&i!==6||h.classList.add(t.CSSClasses.weekDayWeekend)),h.innerText=`${w}`,l.append(h)}})})(e),ne(e)):e.currentType==="month"?ye(e):e.currentType==="year"&&de(e)},re=(e,t)=>{if(e.selectedMonth===void 0||e.selectedYear===void 0)return;const s=e.locale.months.length-1;switch(t){case"prev":e.selectedMonth!==0?e.selectedMonth-=1:e.settings.selection.year&&(e.selectedYear-=1,e.selectedMonth=s);break;case"next":e.selectedMonth!==s?e.selectedMonth+=1:e.settings.selection.year&&(e.selectedYear+=1,e.selectedMonth=0)}e.settings.selected.month=e.selectedMonth,e.settings.selected.year=e.selectedYear,Q(e),Z(e),K(e),ne(e)};let y=null;const he=()=>{var e;if(!y)return;const t=(e=y.HTMLElement)==null?void 0:e.querySelectorAll(`.${y.CSSClasses.dayBtnHover}`);t&&t.forEach(s=>s.classList.remove(y.CSSClasses.dayBtnHover))},Se=e=>{var t;if(!y||!y.selectedDates)return;const s=E(e);if(y.rangeDisabled&&y.rangeDisabled.includes(s))return;const n=(t=y.HTMLElement)==null?void 0:t.querySelectorAll(`[data-calendar-day="${s}"]`);n==null||n.forEach(a=>{a.classList.add(y.CSSClasses.dayBtnHover)})},oe=e=>{if(!e.target||!y||!y.selectedDates)return;if(!e.target.closest(`.${y.CSSClasses.days}`))return void he();const t=e.target.dataset.calendarDay;if(!t)return;he();const s=new Date(Date.UTC(new Date(y.selectedDates[0]).getUTCFullYear(),new Date(y.selectedDates[0]).getUTCMonth(),new Date(y.selectedDates[0]).getUTCDate())),n=new Date(Date.UTC(new Date(t).getUTCFullYear(),new Date(t).getUTCMonth(),new Date(t).getUTCDate()));if(n>s)for(let a=s;a<=n;a.setUTCDate(a.getUTCDate()+1))Se(a);else for(let a=s;a>=n;a.setUTCDate(a.getUTCDate()-1))Se(a)},ce=e=>{y&&e.key==="Escape"&&(y.selectedDates=[],y.HTMLElement.removeEventListener("mousemove",oe),document.removeEventListener("keydown",ce),W(y))},ps=e=>{e&&e.selectedDates&&(y=e,e.selectedDates[0]&&e.selectedDates.length<=1?(e.HTMLElement.addEventListener("mousemove",oe),document.addEventListener("keydown",ce),e.settings.range.disableGaps&&(()=>{var t;if(!y||!((t=y.selectedDates)!=null&&t[0])||!y.rangeDisabled||y.rangeDisabled.length<2)return;const s=new Date(y.selectedDates[0]);let n=null,a=null;y.rangeDisabled.sort((l,i)=>+new Date(l)-+new Date(i));for(let l=0;l<y.rangeDisabled.length;l++){const i=new Date(y.rangeDisabled[l]);if(!(s>=i)){a=i;break}n=i}n&&(n=new Date(n.setDate(n.getDate()+1)),y.rangeMin=E(n)),a&&(a=new Date(a.setDate(a.getDate()-1)),y.rangeMax=E(a))})()):(e.HTMLElement.removeEventListener("mousemove",oe),document.removeEventListener("keydown",ce),e.settings.range.disableGaps&&y&&(y.rangeMin=y.settings.range.min,y.rangeMax=y.settings.range.max,y.settings.range.disablePast&&new Date(y.settings.range.min)<y.date.today&&(y.rangeMin=E(y.date.today)))))},bs=e=>{e.HTMLElement.addEventListener("click",t=>{const s=t.target,n=s.closest(`.${e.CSSClasses.arrow}`),a=s.closest(`.${e.CSSClasses.arrowPrev}`),l=s.closest(`.${e.CSSClasses.arrowNext}`),i=s.closest(`.${e.CSSClasses.dayBtn}`),w=s.closest(`.${e.CSSClasses.dayBtnPrev}`),h=s.closest(`.${e.CSSClasses.dayBtnNext}`),b=s.closest(`.${e.CSSClasses.weekNumber}`),D=s.closest(`.${e.CSSClasses.year}`),x=s.closest(`.${e.CSSClasses.yearsYear}`),_=s.closest(`.${e.CSSClasses.month}`),k=s.closest(`.${e.CSSClasses.monthsMonth}`);n&&e.currentType!=="year"&&e.currentType!=="month"&&re(e,s.dataset.calendarArrow),n&&e.actions.clickArrow&&e.actions.clickArrow(t,Number(e.selectedYear),Number(e.selectedMonth)),(()=>{if(e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&i){switch(e.settings.selection.day){case"single":e.selectedDates&&i&&i.dataset.calendarDay&&(i.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(i.dataset.calendarDay),1):(e.selectedDates=[],e.selectedDates.push(i.dataset.calendarDay)));break;case"multiple":e.selectedDates&&i&&i.dataset.calendarDay&&(i.classList.contains(e.CSSClasses.dayBtnSelected)?e.selectedDates.splice(e.selectedDates.indexOf(i.dataset.calendarDay),1):e.selectedDates.push(i.dataset.calendarDay));break;case"multiple-ranged":(()=>{if(e.selectedDates&&i&&i.dataset.calendarDay){if(e.selectedDates.length<=1&&e.selectedDates[0]&&e.selectedDates[0].includes(i.dataset.calendarDay)?e.selectedDates=[]:(e.selectedDates.length>1&&(e.selectedDates=[]),e.selectedDates.push(i.dataset.calendarDay)),e.selectedDates[1]){const L=new Date(Date.UTC(new Date(e.selectedDates[0]).getUTCFullYear(),new Date(e.selectedDates[0]).getUTCMonth(),new Date(e.selectedDates[0]).getUTCDate())),m=new Date(Date.UTC(new Date(e.selectedDates[1]).getUTCFullYear(),new Date(e.selectedDates[1]).getUTCMonth(),new Date(e.selectedDates[1]).getUTCDate())),g=c=>{if(!e.selectedDates)return;const v=E(c);e.rangeDisabled&&e.rangeDisabled.includes(v)||e.selectedDates.push(v)};if(e.selectedDates=[],m>L)for(let c=L;c<=m;c.setUTCDate(c.getUTCDate()+1))g(c);else for(let c=L;c>=m;c.setUTCDate(c.getUTCDate()-1))g(c)}ps(e)}})()}e.actions.clickDay&&e.actions.clickDay(t,e.selectedDates),w?re(e,"prev"):h?re(e,"next"):ne(e)}})(),(()=>{var L;if(!e.settings.visibility.weekNumbers||!b||!e.actions.clickWeekNumber)return;const m=(L=e.HTMLElement)==null?void 0:L.querySelectorAll("[data-calendar-week-number]");if(!m)return;const g=Number(b.innerText),c=Number(b.dataset.calendarYearWeek),v=[...m].filter(M=>Number(M.dataset.calendarWeekNumber)===g);e.actions.clickWeekNumber(t,g,v,c)})(),(()=>{if(e.settings.selection.year&&e.currentType!=="multiple"){if(n&&e.currentType==="year"){if(e.viewYear===void 0)return;l?e.viewYear+=15:a&&(e.viewYear-=15),de(e)}else if(e.currentType!=="year"&&D)de(e);else if(e.currentType==="year"&&D)e.currentType=e.type,W(e);else if(x){if(e.selectedMonth===void 0||!e.dateMin||!e.dateMax)return;e.selectedYear=Number(x.dataset.calendarYear),e.currentType=e.type,e.selectedMonth<e.dateMin.getUTCMonth()&&e.selectedYear===e.dateMin.getUTCFullYear()&&(e.settings.selected.month=e.dateMin.getUTCMonth()),e.selectedMonth>e.dateMax.getUTCMonth()&&e.selectedYear===e.dateMax.getUTCFullYear()&&(e.settings.selected.month=e.dateMax.getUTCMonth()),e.actions.clickYear&&e.actions.clickYear(t,e.selectedYear),e.settings.selected.year=e.selectedYear,W(e)}}})(),e.settings.selection.month&&e.currentType!=="multiple"&&(e.currentType!=="month"&&_?ye(e):e.currentType==="month"&&_?(e.currentType=e.type,W(e)):k&&(e.selectedMonth=Number(k.dataset.calendarMonth),e.currentType=e.type,e.actions.clickMonth&&e.actions.clickMonth(t,e.selectedMonth),e.settings.selected.month=e.selectedMonth,W(e)))})},Ds=e=>`
	<div class="${e.controls}">
		<#ArrowPrev />
		<#ArrowNext />
	</div>
	<div class="${e.grid}">
		<#Multiple>
			<div class="${e.column}">
				<div class="${e.header}">
					<div class="${e.headerContent}">
						<#Month />
						<#Year />
					</div>
				</div>
				<div class="${e.wrapper}">
					<#WeekNumbers />
					<div class="${e.content}">
						<#Week />
						<#Days />
					</div>
				</div>
			</div>
		<#/Multiple>
	</div>
	<#ControlTime />
`,Ms=e=>`
	<div class="${e.header}">
		<div class="${e.headerContent}">
			<#Month />
			<#Year />
		</div>
	</div>
	<div class="${e.wrapper}">
		<div class="${e.content}">
			<#Months />
		</div>
	</div>
`,Ts=e=>`
	<div class="${e.header}">
		<#ArrowPrev />
		<div class="${e.headerContent}">
			<#Month />
			<#Year />
		</div>
		<#ArrowNext />
	</div>
	<div class="${e.wrapper}">
		<div class="${e.content}">
			<#Years />
		</div>
	</div>
`,ue={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",column:"vanilla-calendar-column",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",daySelected:"vanilla-calendar-day_selected",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};class Ce{constructor(t,s){var n,a,l,i,w,h,b,D,x,_,k,L,m,g,c,v,M,u,r,S,C,U,$,X,q,A,O,P,te,N,se,pe,be,De,Me,Te,we,fe,ke,$e,Le,Ye,xe,_e,Ee,Ne,He,Ue,qe,Ae,Be,Oe,Pe,Fe,Ie,Ke,We,Xe,je,Re,Ge,Ve,ze,Je,Qe,Ze,et,tt,st,at,nt,lt,it,dt,rt,ot,ct,ut,mt,yt,vt,gt,ht,St,Ct,pt,bt,Dt,Mt,Tt,wt,ft,kt,$t,Lt,Yt,xt,_t,Et,Nt,Ht,Ut,qt,At,Bt,Ot,Pt,Ft,It,Kt,Wt,Xt,jt,Rt,Gt,z;f(this,"HTMLElement"),f(this,"type"),f(this,"months"),f(this,"date"),f(this,"settings"),f(this,"locale"),f(this,"actions"),f(this,"popups"),f(this,"CSSClasses"),f(this,"DOMTemplates"),f(this,"currentType"),f(this,"selectedKeeping"),f(this,"userTime"),f(this,"update",()=>W(this)),f(this,"init",()=>{var j;(j=this).HTMLElement&&(W(j),bs(j))}),this.HTMLElement=typeof t=="string"?document.querySelector(t):t,this.HTMLElement&&(this.type=(n=s==null?void 0:s.type)!=null?n:"default",this.months=(a=s==null?void 0:s.months)!=null?a:2,this.date={min:(i=(l=s==null?void 0:s.date)==null?void 0:l.min)!=null?i:"1970-01-01",max:(h=(w=s==null?void 0:s.date)==null?void 0:w.max)!=null?h:"2470-12-31",today:(D=(b=s==null?void 0:s.date)==null?void 0:b.today)!=null?D:new Date},this.settings={lang:(_=(x=s==null?void 0:s.settings)==null?void 0:x.lang)!=null?_:"en",iso8601:(L=(k=s==null?void 0:s.settings)==null?void 0:k.iso8601)==null||L,range:{min:(c=(g=(m=s==null?void 0:s.settings)==null?void 0:m.range)==null?void 0:g.min)!=null?c:this.date.min,max:(u=(M=(v=s==null?void 0:s.settings)==null?void 0:v.range)==null?void 0:M.max)!=null?u:this.date.max,disablePast:(C=(S=(r=s==null?void 0:s.settings)==null?void 0:r.range)==null?void 0:S.disablePast)!=null&&C,disableGaps:(X=($=(U=s==null?void 0:s.settings)==null?void 0:U.range)==null?void 0:$.disableGaps)!=null&&X,disableWeekday:(O=(A=(q=s==null?void 0:s.settings)==null?void 0:q.range)==null?void 0:A.disableWeekday)!=null?O:[],disabled:(N=(te=(P=s==null?void 0:s.settings)==null?void 0:P.range)==null?void 0:te.disabled)!=null?N:null,enabled:(be=(pe=(se=s==null?void 0:s.settings)==null?void 0:se.range)==null?void 0:pe.enabled)!=null?be:null},selection:{day:(Te=(Me=(De=s==null?void 0:s.settings)==null?void 0:De.selection)==null?void 0:Me.day)!=null?Te:"single",month:(ke=(fe=(we=s==null?void 0:s.settings)==null?void 0:we.selection)==null?void 0:fe.month)==null||ke,year:(Ye=(Le=($e=s==null?void 0:s.settings)==null?void 0:$e.selection)==null?void 0:Le.year)==null||Ye,time:(Ee=(_e=(xe=s==null?void 0:s.settings)==null?void 0:xe.selection)==null?void 0:_e.time)!=null&&Ee,controlTime:(Ue=(He=(Ne=s==null?void 0:s.settings)==null?void 0:Ne.selection)==null?void 0:He.controlTime)!=null?Ue:"all",stepHours:(Be=(Ae=(qe=s==null?void 0:s.settings)==null?void 0:qe.selection)==null?void 0:Ae.stepHours)!=null?Be:1,stepMinutes:(Fe=(Pe=(Oe=s==null?void 0:s.settings)==null?void 0:Oe.selection)==null?void 0:Pe.stepMinutes)!=null?Fe:1},selected:{dates:(We=(Ke=(Ie=s==null?void 0:s.settings)==null?void 0:Ie.selected)==null?void 0:Ke.dates)!=null?We:null,month:(Re=(je=(Xe=s==null?void 0:s.settings)==null?void 0:Xe.selected)==null?void 0:je.month)!=null?Re:null,year:(ze=(Ve=(Ge=s==null?void 0:s.settings)==null?void 0:Ge.selected)==null?void 0:Ve.year)!=null?ze:null,holidays:(Ze=(Qe=(Je=s==null?void 0:s.settings)==null?void 0:Je.selected)==null?void 0:Qe.holidays)!=null?Ze:null,time:(st=(tt=(et=s==null?void 0:s.settings)==null?void 0:et.selected)==null?void 0:tt.time)!=null?st:null},visibility:{theme:(lt=(nt=(at=s==null?void 0:s.settings)==null?void 0:at.visibility)==null?void 0:nt.theme)!=null?lt:"system",monthShort:(rt=(dt=(it=s==null?void 0:s.settings)==null?void 0:it.visibility)==null?void 0:dt.monthShort)==null||rt,weekNumbers:(ut=(ct=(ot=s==null?void 0:s.settings)==null?void 0:ot.visibility)==null?void 0:ct.weekNumbers)!=null&&ut,weekend:(vt=(yt=(mt=s==null?void 0:s.settings)==null?void 0:mt.visibility)==null?void 0:yt.weekend)==null||vt,today:(St=(ht=(gt=s==null?void 0:s.settings)==null?void 0:gt.visibility)==null?void 0:ht.today)==null||St,disabled:(bt=(pt=(Ct=s==null?void 0:s.settings)==null?void 0:Ct.visibility)==null?void 0:pt.disabled)!=null&&bt,daysOutside:(Tt=(Mt=(Dt=s==null?void 0:s.settings)==null?void 0:Dt.visibility)==null?void 0:Mt.daysOutside)==null||Tt}},this.locale={months:(ft=(wt=s==null?void 0:s.locale)==null?void 0:wt.months)!=null?ft:[],weekday:($t=(kt=s==null?void 0:s.locale)==null?void 0:kt.weekday)!=null?$t:[]},this.actions={clickDay:(Yt=(Lt=s==null?void 0:s.actions)==null?void 0:Lt.clickDay)!=null?Yt:null,clickWeekNumber:(_t=(xt=s==null?void 0:s.actions)==null?void 0:xt.clickWeekNumber)!=null?_t:null,clickMonth:(Nt=(Et=s==null?void 0:s.actions)==null?void 0:Et.clickMonth)!=null?Nt:null,clickYear:(Ut=(Ht=s==null?void 0:s.actions)==null?void 0:Ht.clickYear)!=null?Ut:null,clickArrow:(At=(qt=s==null?void 0:s.actions)==null?void 0:qt.clickArrow)!=null?At:null,changeTime:(Ot=(Bt=s==null?void 0:s.actions)==null?void 0:Bt.changeTime)!=null?Ot:null},this.popups=(Pt=s==null?void 0:s.popups)!=null?Pt:null,this.CSSClasses=(()=>{const j=((B,H)=>{for(var R in H||(H={}))Y.call(H,R)&&I(B,R,H[R]);if(o)for(var R of o(H))F.call(H,R)&&I(B,R,H[R]);return B})({},ue);return Object.keys(ue).forEach(B=>{var H;(H=s==null?void 0:s.CSSClasses)!=null&&H[B]?j[B]=s.CSSClasses[B]:j[B]=ue[B]}),j})(),this.DOMTemplates={default:(It=(Ft=s==null?void 0:s.DOMTemplates)==null?void 0:Ft.default)!=null?It:(z=this.CSSClasses,`
	<div class="${z.header}">
		<#ArrowPrev />
		<div class="${z.headerContent}">
			<#Month />
			<#Year />
		</div>
		<#ArrowNext />
	</div>
	<div class="${z.wrapper}">
		<#WeekNumbers />
		<div class="${z.content}">
			<#Week />
			<#Days />
		</div>
	</div>
	<#ControlTime />
`),multiple:(Wt=(Kt=s==null?void 0:s.DOMTemplates)==null?void 0:Kt.multiple)!=null?Wt:Ds(this.CSSClasses),month:(jt=(Xt=s==null?void 0:s.DOMTemplates)==null?void 0:Xt.month)!=null?jt:Ms(this.CSSClasses),year:(Gt=(Rt=s==null?void 0:s.DOMTemplates)==null?void 0:Rt.year)!=null?Gt:Ts(this.CSSClasses)},this.currentType=this.type,this.selectedKeeping=null,this.userTime=!1)}}typeof window<"u"&&(window.VanillaCalendar=Ce),p.exports=Ce})(ss);const ws=ss.exports;const Vt=document.querySelectorAll("#start-booking");Vt&&Vt.forEach(p=>{p.addEventListener("click",()=>{document.querySelector("#booking").classList.remove("hidden")})});const zt=document.querySelector("#stop-booking");zt&&zt.addEventListener("click",()=>{document.querySelector("#booking").classList.add("hidden")});const as=p=>String(p).toLowerCase().match(/^[\d\+][\d\(\)\ -]{4,24}\d$/),fs=new Date,ae=new Date;ae.setDate(ae.getDate()+1);let ns=ae.toISOString().split("T")[0];const ks=new ws("#calendar",{settings:{visibility:{theme:"light"},lang:"ru",selected:{dates:[ae.toISOString().split("T")[0]]}},date:{min:fs.toISOString().split("T")[0]},actions:{clickDay(p,d){ns=d[0]}}});ks.init();const Jt=document.querySelector("#people-dec");Jt&&Jt.addEventListener("click",()=>{const p=document.querySelector("#people");p.innerHTML>1&&(p.innerHTML=+p.innerHTML-1)});const Qt=document.querySelector("#people-inc");Qt&&Qt.addEventListener("click",()=>{const p=document.querySelector("#people");p.innerHTML=+p.innerHTML+1});const Zt=document.querySelector("#book-btn");Zt&&Zt.addEventListener("click",async()=>{if(as(document.querySelector("#book-phone").value))document.querySelector("#book-error").classList.add("hidden");else{document.querySelector("#book-error").classList.remove("hidden");return}document.querySelector("#book-ok").classList.remove("hidden");let p="";document.getElementById("contact-type1").checked?p="\u041D\u0430\u043F\u0438\u0448\u0438\u0442\u0435 \u0432 WhatsApp":document.getElementById("contact-type2").checked?p="\u041D\u0430\u043F\u0438\u0448\u0438\u0442\u0435 \u0432 \u0422\u0435\u043B\u0435\u0433\u0440\u0430\u043C":document.getElementById("contact-type3").checked&&(p="\u041F\u043E\u0437\u0432\u043E\u043D\u0438\u0442\u0435");const d={date:ns,count:document.querySelector("#people").innerHTML,phone:document.querySelector("#book-phone").value,contactType:p,address:document.querySelector("#book-address").value,tour:document.querySelector("#book-tour").dataset.title};await fetch("/api/book.php",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(d)})});const G=690,$s=()=>{const p=[...document.querySelectorAll(".gallery")],d={};p.forEach(T=>{T.style.transform="translateX(0) translateY(0)";const o=[...T.classList].find(K=>K.includes("gallery")&&K!=="gallery"&&K!=="gallery_vert");d[o]=0;const Y=T.children.length;let F=[...T.classList].includes("gallery_vert");const I=document.querySelector(`.${o}-left`),f=document.querySelector(`.${o}-right`);addEventListener("resize",()=>{F&&(window.innerWidth<=G?T.style.transform=`translateX(${d[o]*100}%) translateY(0)`:T.style.transform=`translateX(0) translateY(${d[o]*100}%)`)}),I.onclick=()=>{F&&window.innerWidth>G?(d[o]=++d[o]%Y,d[o]>0&&(d[o]=-(Y-1)),T.style.transform=`translateX(0) translateY(${d[o]*100}%)`):(d[o]=++d[o]%Y,d[o]>0&&(d[o]=-(Y-1)),T.style.transform=`translateX(${d[o]*100}%) translateY(0)`)},f.onclick=()=>{F&&window.innerWidth>G?(d[o]=--d[o]%Y,T.style.transform=`translateX(0) translateY(${d[o]*100}%)`):(d[o]=--d[o]%Y,T.style.transform=`translateX(${d[o]*100}%) translateY(0)`)}})},Ls=()=>{const p=[...document.querySelectorAll(".gallery2")],d={};p.forEach(T=>{T.style.transform="translateX(0) translateY(0)";const o=[...T.classList].find(f=>f.includes("gallery2")&&f!=="gallery2");d[o]=0;const Y=T.children.length,F=document.querySelector(`.${o}-left`),I=document.querySelector(`.${o}-right`);addEventListener("resize",()=>{window.innerWidth<=G?T.style.transform=`translateX(${d[o]*100}%) translateY(0)`:T.style.transform=`translateY(0) translateX(${d[o]*66.666}%)`}),F.onclick=()=>{window.innerWidth>G?(d[o]=++d[o]%Math.ceil(Y/6),d[o]>0&&(d[o]=-(Math.ceil(Y/6)-1)),T.style.transform=`translateY(0) translateX(${d[o]*66.666}%)`):(d[o]=++d[o]%Math.ceil(Y/6),d[o]>0&&(d[o]=-(Math.ceil(Y/6)-1)),T.style.transform=`translateX(${d[o]*100}%) translateY(0)`)},I.onclick=()=>{window.innerWidth>G?(d[o]=--d[o]%Math.ceil(Y/6),T.style.transform=`translateY(0) translateX(${d[o]*66.666}%)`):(d[o]=--d[o]%Math.ceil(Y/6),T.style.transform=`translateX(${d[o]*100}%) translateY(0)`)}})};document.addEventListener("DOMContentLoaded",$s);document.addEventListener("DOMContentLoaded",Ls);const Ys=async p=>{const d="/api/fastMail.php",T={phone:p};await fetch(d,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(T)})},ls=()=>{var d;const p=(d=document.querySelector("#fast-mail"))==null?void 0:d.value;as(p)&&(Ys(p),document.querySelector("#fast-mail").value="\u0421\u043A\u043E\u0440\u043E \u043F\u043E\u0437\u0432\u043E\u043D\u0438\u043C!")},es=document.querySelector("#fast-mail"),ts=document.querySelector("#fast-mail-btn");ts&&ts.addEventListener("click",ls);es&&es.addEventListener("keydown",function(p){p.keyCode===13&&ls()});
